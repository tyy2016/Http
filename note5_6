5
web服务器：
1.建立连接
2.接收请求（请求方法、URI、版本号之间以空格隔开，以CRLF作为结束；以CRLF作为结尾的报文首部；以CRLF作为结束的标识首部结束的空白行）
3.处理请求
4.访问资源
5.构建响应（content-type;content-length;或重定向）
6.发送响应
7.记录事物处理过程

6
代理
代理分为：私有代理；公共代理
代理与网关的区别在于：代理使用的是同一种协议。网关是将不同的协议连接起来。
正向代理（翻墙软件等），反向代理（CDN），匿名代理等
代理服务器部署位置：出口代理；入口代理；反向代理；网络交换代理
下一个靠近服务器端的代理称为：父代理   下一个靠近客户端的代理：子代理
代理可以根据诸多因素动态的选择下一个代理服务器
代理如何获取http流量：客户端浏览器配置；修改网络设备导向代理；代理假扮web服务器；服务器将http请求重定向
代理请求可能产生疑惑的问题点：
代理URI和服务器URI是不同的，代理需要知道完整的URI才能连接到FTP资源上
虚拟主机web服务器要求使用host来区分目的主机的端口
客户端无法区分反向代理和真实web服务器，所以也会发送部分URI
没有配置显示的代理时，浏览器会对主机名进行自动扩展
在显示配置代理时，浏览器不做自动扩展，扩展功能由代理完成
via首部：列出报文经过的每一个中间节点的信息
请求路径和响应路径应该是同一条路
via首部也会记录请求经过网关之间的协议转换
代理不能修改server首部，代理应该在via中添加
trace可以跟踪经过代理传输时的报文变化、到达最终的服务器后请求报文被封装在响应主体中发回客户端，客户端可以查看服务器收到的最终请求报文形式以及中间经过了多少代理
代理可以实现认证机制
